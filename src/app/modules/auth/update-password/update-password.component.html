<div class="body" dir="rtl">
  <div class="form">
    <h2 class="mb-5 text-center">تغيير كلمة المرور</h2>
    <div class="m-3 text-danger" *ngIf="updatePasswordError">
      <p>{{ updatePasswordError }}</p>
    </div>

    <form
      [formGroup]="updatePasswordForm"
      (ngSubmit)="updatePassword(updatePasswordForm)"
      class="mx-auto"
    >
      <!--  <app-custom-input-password [label]="'كلمة المرور '" [control]="getControl('newPassword')">
        </app-custom-input-password>
        <app-custom-input-password [label]="'تأكيد كلمة المرور'" [matchingValue]="updatePasswordForm.value.newPassword == updatePasswordForm.value.confirmPassword ? true:false"   [control]="getControl('confirmPassword')">
        </app-custom-input-password> -->

      <app-custom-input-password
        [label]="'كلمة المرور '"
        [formGroupInput]="updatePasswordForm"
        [formControlNameInput]="'newPassword'"
      >
      </app-custom-input-password>
      <app-custom-input-password
        [label]="'تأكيد كلمة المرور'"
        [matchingValue]="
          updatePasswordForm.value.newPassword ==
          updatePasswordForm.value.confirmPassword"
        [formGroupInput]="updatePasswordForm"
        [formControlNameInput]="'confirmPassword'"
      >
      </app-custom-input-password>

      <div>
        <!-- [disabled]="!updatePasswordForm.valid && (updatePasswordForm.value.newPassword != updatePasswordForm.value.confirmPassword)" -->
        <button
          [disabled]="!updatePasswordForm.valid"
          class="btn btn-primary w-100 mx-0"
        >
        <p *ngIf="!isLoading"class="py-1" >تأكيد ومتابعة  </p>
        <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> 
         
        </button>
      </div>
    </form>
  </div>
</div>

<!--  <div class="form-group mb-2">
            <label for="newPassword" class="mb-2"> كلمة المرور</label>
            <input type="password" id="newPassword" class="form-control"  formControlName="newPassword">
            <div *ngIf="newPassword?.errors && newPassword?.touched" class="mx-3 text-danger">
                <p class="mb-0" *ngIf="newPassword?.getError('pattern')">Invalid password</p>
                <p class="mb-0" *ngIf="newPassword?.getError('required')">this feild is required</p>
            </div>
        </div>
        <div class="form-group mb-2">
            <label for="confirmPassword" class="mb-2">تأكيد  كلمة المرور</label>
            <input type="password" id="confirmPassword" class="form-control"  formControlName="confirmPassword">
            <div *ngIf="updatePasswordForm.value.newPassword != updatePasswordForm.value.confirmPassword  "class="alert alert-danger">
                <p class="mb-0" > Confirmed password not matched</p>
          </div>
            <div *ngIf="confirmPassword?.errors && confirmPassword.touched" class="mx-3 text-danger">
                <p class="mb-0" *ngIf="confirmPassword?.getError('pattern')">Invalid password</p>
                <p class="mb-0" *ngIf="confirmPassword?.getError('required')">this feild is required</p>
            </div>
        </div> -->
